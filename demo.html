<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SVR Rail demo</title>
  <link rel="stylesheet"
        href="demo.css" />
  <script type="text/javascript"
          src="demo.js"
          defer></script>
</head>
<body>
<input type="range"
       id="train-speed"
       min="1"
       max="10"
       step="1"
       value="1" />

<button type="button"
        id="switcher23">Switch 2/3
</button>
<button type="button"
        id="switcher45">Switch 4/5
</button>
<div class="rail__container">
  <svg version="1.1"
       xmlns="http://www.w3.org/2000/svg"
       xmlns:xlink="http://www.w3.org/1999/xlink"
       preserveAspectRatio="xMidYMid meet"
       viewBox="0 0 640 640"
       width="640"
       height="640"
       class="rail__canvas">
    <defs>
      <filter id="double">
        <feMorphology in="SourceGraphic"
                      result="a"
                      operator="dilate"
                      radius="2" />
        <feComposite in="SourceGraphic"
                     in2="a"
                     result="xx"
                     operator="xor" />
      </filter>
      <!--      <path d="M631 41C554 167 507 246 488 278C448 344 377 386 300 390C243 392 198 381 164 356C121 325 121 281 166 222C191 189 226 166 266 157C293 150 272 155 289 151C349 136 409 174 422 235C426 252 422 271 410 290C353 379 143 380 268 195C351 72 280 29 54 67"            id="rail"></path>-->
      <path d="M 20,320 Q 20,160 160 160 H 460 Q 620 160, 620 320"
            id="rail1"></path>
      <path d="M 620,320 Q 620,480 480 480 H 320"
            id="rail2"></path>

      <path d="M 620,320 Q 620,440 480 440 H 160 Q 20 440, 20 320"
            id="rail3"></path>

      <path d="M 320 480 H 160 Q 20 480, 20 320"
            id="rail4"></path>

      <path d="M 320 480 C 160 480, 160 620 320 620 H 620"
            id="rail5"></path>

      <polygon points="-10 -10,10 -10,10 10,-10 10"
               id="train" />
    </defs>
    <use xlink:href="#rail1"
         class="rail_backing"></use>
    <use xlink:href="#rail2"
         class="rail_backing"></use>
    <use xlink:href="#rail3"
         class="rail_backing"></use>
    <use xlink:href="#rail4"
         class="rail_backing"></use>
    <use xlink:href="#rail5"
         class="rail_backing"></use>

    <use xlink:href="#rail1"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail2"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail3"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail4"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail5"
         class="rail_track"
         filter="url(#double)"></use>

    <use xlink:href="#train"
         class="rail_train js-train-1"></use>
    <!--    <use xlink:href="#train"-->
    <!--         class="rail_train js-train-2"></use>-->
  </svg>
</div>
</body>
</html>
<!--https://css-tricks.com/svg-path-syntax-illustrated-guide/-->