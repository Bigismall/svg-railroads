<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SVR Rail demo</title>
  <link rel="stylesheet"
        href="demo.css" />
  <script type="text/javascript"
          src="demo.js"
          defer></script>
</head>
<body>
<input type="range"
       id="train-speed"
       min="1"
       max="10"
       step="1"
       value="1" />
<div class="switches">
  <button type="button"
          id="switcher35">Switch 3/5
  </button>
  <button type="button"
          id="switcher78">Switch 7/8
  </button>
  <button type="button"
          id="switcher47">Switch 4/7
  </button>
  <button type="button"
          id="switcher29">Switch 2/9
  </button>
</div>
<div class="rail__container">
  <svg version="1.1"
       xmlns="http://www.w3.org/2000/svg"
       xmlns:xlink="http://www.w3.org/1999/xlink"
       preserveAspectRatio="xMidYMid meet"
       viewBox="0 0 800 900"
       width="800"
       height="900"
       class="rail__canvas">
    <defs>
      <filter id="double">
        <feMorphology in="SourceGraphic"
                      result="a"
                      operator="dilate"
                      radius="2" />
        <feComposite in="SourceGraphic"
                     in2="a"
                     result="xx"
                     operator="xor" />
      </filter>
      <!--      <path d="M631 41C554 167 507 246 488 278C448 344 377 386 300 390C243 392 198 381 164 356C121 325 121 281 166 222C191 189 226 166 266 157C293 150 272 155 289 151C349 136 409 174 422 235C426 252 422 271 410 290C353 379 143 380 268 195C351 72 280 29 54 67"            id="rail"></path>-->
      <path d="M100,400v-100q0,-100,100,-100h100"
            id="rail1"></path>

      <path d="M300,200h100"
            id="rail2"></path>

      <path d="M400,200q100,0,100,100v100"
            id="rail3"></path>

      <path d="M500,400 q 0 100, -100 100"
            id="rail4"></path>

      <path d="M400,500 h -200"
            id="rail5"></path>

      <path d="M200,500 q -100 0, -100 -100"
            id="rail6"></path>

      <path d="M500,400v100q0,100,-100,100"
            id="rail7"></path>

      <path d="M400 600 h -100"
            id="rail8"></path>

      <path d="M300 600 h -100"
            id="rail9"></path>

      <path d="M200 600 q -100 0,-100 -100 v -100"
            id="rail10"></path>

      <path d="M300 600 q -100 0, -100 100 "
            id="rail11"></path>

      <path d="M200 700 q 0 100, 100 100 h 200 q 100 0, 100,-100  v -300 v -200 q 0 -100, -100 -100 "
            id="rail12"></path>
      <path d="M500 100 c -100 0, -100 100, -200 100"
            id="rail13"></path>

      <polygon points="-10 -10,10 -10,10 10,-10 10"
               id="train" />

    </defs>
    <use xlink:href="#rail1"
         class="rail_backing"></use>
    <use xlink:href="#rail2"
         class="rail_backing"></use>
    <use xlink:href="#rail3"
         class="rail_backing"></use>
    <use xlink:href="#rail4"
         class="rail_backing"></use>
    <use xlink:href="#rail5"
         class="rail_backing"></use>
    <use xlink:href="#rail6"
         class="rail_backing"></use>
    <use xlink:href="#rail7"
         class="rail_backing"></use>
    <use xlink:href="#rail8"
         class="rail_backing"></use>
    <use xlink:href="#rail9"
         class="rail_backing"></use>
    <use xlink:href="#rail10"
         class="rail_backing"></use>
    <use xlink:href="#rail11"
         class="rail_backing"></use>
    <use xlink:href="#rail12"
         class="rail_backing"></use>
    <use xlink:href="#rail13"
         class="rail_backing"></use>

    <use xlink:href="#rail1"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail2"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail3"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail4"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail5"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail6"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail7"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail8"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail9"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail10"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail11"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail12"
         class="rail_track"
         filter="url(#double)"></use>
    <use xlink:href="#rail13"
         class="rail_track"
         filter="url(#double)"></use>

    <use xlink:href="#train"
         class="rail_train js-train-1"></use>
    <!--    <use xlink:href="#train"-->
    <!--         class="rail_train js-train-2"></use>-->
  </svg>
</div>
</body>
</html>
<!--https://css-tricks.com/svg-path-syntax-illustrated-guide/-->